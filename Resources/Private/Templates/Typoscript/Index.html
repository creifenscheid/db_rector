<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true">

<f:layout name="Default"/>

<f:section name="Content">
    <h2><f:translate key="{l10n}section.typoscript" /></h2>
    <br>
    <div class="table-fit">
        <table data-table="sys_template" class="table table-striped table-hover">
            <thead>
            <tr data-uid="0" data-multi-record-selection-element="true">
                <th><f:translate key="{l10n}typoscript.originUid" /></th>
                <th><f:translate key="{l10n}typoscript.originPid" /></th>
                <th><f:translate key="{l10n}typoscript.originTitle" /></th>
                <th><f:translate key="{l10n}typoscript.originTyposcript" /></th>
                <th><f:translate key="{l10n}typoscript.processedTyposcript" /></th>
                <th class="col-control"></th>
            </tr>
            </thead>

            <tbody data-multi-record-selection-row-selection="true">

            <f:for each="{elements}" as="element">
                <tr title="id={element.originUid}" data-uid="{element.originUid}" data-multi-record-selection-element="true">
                    <td>{element.originUid}</td>
                    <td>{element.originPid}</td>
                    <td>{element.originTitle}</td>
                    <td><f:format.crop maxCharacters="66">{element.originTyposcript}</f:format.crop></td>
                    <td><f:format.crop maxCharacters="66">{element.processedTyposcript}</f:format.crop></td>
                    <td class="col-control nowrap">
                        <div class="btn-group">
                            <a class="btn btn-default" href="{be:moduleLink(route:'tce_db', query:'data[sys_reaction][{reaction.uid}][disabled]=0', arguments:'{redirect: returnUrl}')}" title="{f:translate(key:'{l10n}typoscript.toolbar.process')}">
                                <core:icon identifier="actions-play" size="small" />
                            </a>
                            <a class="btn btn-default" href="" title="{f:translate(key:'{l10n}typoscript.toolbar.apply')}">
                                <core:icon identifier="actions-exchange" size="small" />
                            </a>
                            <a class="btn btn-default" href="" title="{f:translate(key:'{l10n}typoscript.toolbar.rollBack')}">
                                <core:icon identifier="actions-undo" size="small" />
                            </a>
                        </div>
                    </td>
                </tr>
            </f:for>

            </tbody>
        </table>
    </div>

    <f:form id="rector-all-form" action="processAll" controller="Typoscript" method="post" enctype="multipart/form-data">
        <f:form.button class="btn btn-primary"><f:translate key="{l10n}typoscript.button.processAll"/></f:form.button>
    </f:form>
</f:section>

</html>